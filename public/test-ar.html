<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>AR Marker Viewer</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body class="overflow-hidden m-0 p-0 relative bg-black text-white">

    <!-- ‚úÖ UI atas AR -->
    <div class="absolute top-0 left-0 w-full z-50 px-4 py-3 flex justify-between items-center bg-black bg-opacity-60">
      <h1 class="text-lg font-semibold">üîç AR Stunting Viewer</h1>
      <button
        onclick="window.history.back()"
        class="bg-red-600 px-3 py-1 rounded text-sm"
      >
        Kembali
      </button>
    </div>

    <!-- ‚úÖ AR Scene -->
    <a-scene
      embedded
      arjs="sourceType: webcam;"
      vr-mode-ui="enabled: false"
      renderer="logarithmicDepthBuffer: true;"
    >
      <a-assets>
        <a-asset-item id="model" src="/models/stunting.glb"></a-asset-item>
      </a-assets>

      <a-marker type="pattern" url="/marker/pattern-processed_marker.patt">
        <a-entity
          gltf-model="#model"
          scale="0.5 0.5 0.5"
          position="0 0 0"
          animation-mixer
        ></a-entity>
      </a-marker>

      <a-entity camera></a-entity>
    </a-scene>

    <!-- ‚úÖ CSS Extra (stabilkan layout mobile) -->
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
      }

      a-scene {
        position: absolute !important;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 0;
      }

      canvas {
        object-fit: cover;
      }
    </style>
  </body>
</html>
